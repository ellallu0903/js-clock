<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="widTH=device-widTH, initial-scale=1.0" />
    <title>Clock-TW/JP/KR/TH</title>
    <!-- favicon -->
    <link rel="shortcut icon" href="./images/favicon.ico" />
    <!-- css_style -->
    <link rel="stylesheet" href="./style.css" />
    <!-- font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Monoton&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Yrsa:wght@500&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Chewy&display=swap"
      rel="stylesheet"
    />

    <!--icon  -->
    <link rel="stylesheet" href="./CSS/all.css" />
    <!-- animation -->
    <link rel="stylesheet" href="./CSS/animate.min.css" />
  </head>

  <body>
    <div id="container" class="h-100">
      <a
        style="z-index: 9999"
        href="https://github.com/ellallu0903/js-clock"
        target="_blank"
        class="github_position"
        ><img width="45" src="./github.png" alt=""
      /></a>
      <img
        id="bgChange"
        src="./images/taiwan-bg.jpg"
        style="
          width: 105%;
          height: 105%;
          z-index: -9999;
          position: absolute;
          top: -1%;
          left: -1%;
        "
        class="animation_bg"
      />
      <div id="TW_time" class="h-100 flex_start">
        <!-- 時鐘 -->
        <div style="margin-bottom: 2.5rem">
          <div
            id="date"
            style="margin-top: 2rem; color: rgba(33, 30, 85, 0.95)"
          >
            123
          </div>
          <div id="clock">
            <div id="hour"></div>
            <div id="minute"></div>
            <div id="second"></div>
            <!-- 刻度 -->
            <div>
              <div
                class="number"
                style="position: absolute; top: 3%; left: 43%"
              >
                12
              </div>
              <div
                class="dot"
                style="position: absolute; top: 1%; left: 49%"
              ></div>
              <div
                class="dot"
                style="position: absolute; top: 8%; left: 73%"
              ></div>
              <div
                class="dot"
                style="position: absolute; top: 25%; left: 90%"
              ></div>
              <div
                class="number"
                style="position: absolute; top: 42%; left: 85%"
              >
                3
              </div>
              <div
                class="dot"
                style="position: absolute; top: 50%; left: 96%"
              ></div>
              <div
                class="dot"
                style="position: absolute; top: 73%; left: 89%"
              ></div>
              <div
                class="dot"
                style="position: absolute; top: 89%; left: 72%"
              ></div>
              <div
                class="number"
                style="position: absolute; top: 79%; left: 46%"
              >
                6
              </div>
              <div
                class="dot"
                style="position: absolute; top: 96%; left: 49%"
              ></div>
              <div
                class="dot"
                style="position: absolute; top: 73%; left: 8%"
              ></div>
              <div
                class="dot"
                style="position: absolute; top: 89%; left: 25%"
              ></div>
              <div
                class="number"
                style="position: absolute; top: 42%; left: 8%"
              >
                9
              </div>
              <div
                class="dot"
                style="position: absolute; top: 50%; left: 1%"
              ></div>
              <div
                class="dot"
                style="position: absolute; top: 8%; left: 25%"
              ></div>
              <div
                class="dot"
                style="position: absolute; top: 25%; left: 8%"
              ></div>
            </div>
            <!-- 中間的字 TW -->
            <div class="clock_tw">TW</div>
          </div>
        </div>

        <!-- TW時間 -->
        <div id="tw_timebox" class="timebox">
          <span> <img src="./images/Taiwan.png" /></span>
          <span id="time"></span>
        </div>
        <!-- JP 時間 -->
        <div
          id="jp_timebox"
          class="timebox2"
          style="background: rgba(78, 125, 131, 0.5); display: none"
        >
          <span>
            <img src="./images/Japan.png" />
          </span>
          <span id="JP"></span>
        </div>
        <!-- KR 時間 -->
        <div
          id="kr_timebox"
          class="timebox2"
          style="background: rgba(206, 180, 120, 0.4); display: none"
        >
          <span>
            <img src="./images/Korea,-South.png" />
          </span>
          <span id="KR"></span>
        </div>
        <!-- TH 時間 -->
        <div
          id="th_timebox"
          class="timebox2"
          style="background: rgba(165, 160, 81, 0.4); display: none"
        >
          <span><img src="./images/Thailand.png" /></span>
          <span id="TH"></span>
        </div>
      </div>
      <div id="flag" style="z-index: 99999" class="flag1 flag_position">
        <div class="h-100" style="margin-bottom: 0rem">
          <a id="aTW"><img width="45" src="./images/Taiwan.png" alt="" /></a>
          <a id="aJP"><img width="45" src="./images/Japan.png" alt="" /></a>
          <a id="aKR"
            ><img width="45" src="./images/Korea,-South.png" alt=""
          /></a>
          <a id="aTH"><img width="45" src="./images/Thailand.png" alt="" /></a>
        </div>
      </div>
      <div class="copyright">Clock &copy; Yi-Zhen Lu</div>
    </div>

    <script src="./jquery-3.5.1.min.js"></script>
    <script>
      const date = document.getElementById('date')
      const hour = document.getElementById('hour')
      const minute = document.getElementById('minute')
      const second = document.getElementById('second')
      const time = document.getElementById('time')
      const JP = document.getElementById('JP')
      const KR = document.getElementById('KR')
      const TH = document.getElementById('TH')

      //   為了解決進入頁面延遲一秒後才開始，先寫 function 後再用計時器
      const setClock = () => {
        let now = new Date()
        let h = now.getHours()
        let m = now.getMinutes()
        let s = now.getSeconds()
        let year = now.getFullYear()
        let month = now.getMonth() + 1
        let day = now.getDate()
        // 台北時間
        // 360度 / 12小時 = 30度/小時，因為 0 度是水平，所以要再加 90度
        hour.style.transform = `rotate(${h * 30 + 90}deg)`
        // 360度 / 60分鐘 = 6度/分鐘
        minute.style.transform = `rotate(${m * 6 + 90}deg)`
        // 360度 / 60秒 = 6度/秒
        second.style.transform = `rotate(${s * 6 + 90}deg)`
        date.innerText = `${year} / ${month} / ${day}`
        time.innerText = `  ${h} : ${m} : ${s}`
        JP.innerText = ` ${h + 1} : ${m} : ${s}`
        KR.innerText = ` ${h + 1} : ${m} : ${s}`
        TH.innerText = ` ${h - 1} : ${m} : ${s}`
      }

      setInterval(setClock, 1000)
      setClock()

      // 換圖 -------------------------------------------------
      $(function () {
        $('#aTW').click(function () {
          $('#bgChange').attr('src', './images/taiwan-bg.jpg')
          $('#bgChange').addClass(
            'animate__animated animate__fadeIn animate__slow'
          )
          $('#date').css('color', 'rgba(33, 30, 85, 0.95)')
          $('#tw_timebox').css('display', 'inline-block')
          $('#jp_timebox').css('display', 'none')
          $('#kr_timebox').css('display', 'none')
          $('#th_timebox').css('display', 'none')
          setTimeout(() => {
            $('#bgChange').removeClass(
              'animate__animated animate__fadeIn animate__faster'
            )
          }, 2000)
        })

        $('#aJP').click(function () {
          $('#bgChange').attr('src', './images/japan-bg.jpeg')
          $('#bgChange').addClass(
            'animate__animated animate__fadeIn animate__slow'
          )
          $('#date').css('color', 'rgba(181,73,91,0.8)')
          $('#tw_timebox').css('display', 'none')
          $('#jp_timebox').css('display', 'inline-block')
          $('#kr_timebox').css('display', 'none')
          $('#th_timebox').css('display', 'none')
          setTimeout(() => {
            $('#bgChange').removeClass(
              'animate__animated animate__fadeIn animate__faster'
            )
          }, 2000)
        })

        $('#aKR').click(function () {
          $('#bgChange').attr('src', './images/korea-bg.jpeg')
          $('#bgChange').addClass(
            'animate__animated animate__fadeIn animate__slow'
          )
          $('#date').css('color', 'rgba(206, 180, 120, 0.95)')
          $('#tw_timebox').css('display', 'none')
          $('#jp_timebox').css('display', 'none')
          $('#kr_timebox').css('display', 'inline-block')
          $('#th_timebox').css('display', 'none')
          setTimeout(() => {
            $('#bgChange').removeClass(
              'animate__animated animate__fadeIn animate__faster'
            )
          }, 2000)
        })

        $('#aTH').click(function () {
          $('#bgChange').attr('src', './images/bangkok-bg.jpg')
          $('#bgChange').addClass(
            'animate__animated animate__fadeIn animate__slow'
          )
          $('#date').css('color', 'rgba(144, 180, 75, 0.9)')
          $('#tw_timebox').css('display', 'none')
          $('#jp_timebox').css('display', 'none')
          $('#kr_timebox').css('display', 'none')
          $('#th_timebox').css('display', 'inline-block')
          setTimeout(() => {
            $('#bgChange').removeClass(
              'animate__animated animate__fadeIn animate__faster'
            )
          }, 2000)
        })
      })
    </script>
  </body>
</html>
